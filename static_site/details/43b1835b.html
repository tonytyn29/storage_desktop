<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI晨星反转选股 - 策略详情</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #e0e0e0;
            padding: 30px;
            line-height: 1.8;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 {
            font-size: 2rem;
            background: linear-gradient(90deg, #00d4ff, #7b2ff7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        .meta { color: #888; margin-bottom: 30px; font-size: 0.9rem; }
        .section {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .section h2 {
            font-size: 1.2rem;
            color: #00d4ff;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .section p, .section pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #ccc;
        }
        pre {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
        }
        .back-btn {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(90deg, #00d4ff, #7b2ff7);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .back-btn:hover { opacity: 0.9; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1); }
        th { background: rgba(0,0,0,0.2); color: #00d4ff; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-btn">← 返回列表</a>
        <h1>AI晨星反转选股</h1>
        <p class="meta">
            ID: 43b1835b | 
            类型: 其他（深度学习形态识别） | 
            来源: b2324_69.人工智能早晨十字星模型反转形态预测.txt |
            分析日期: 2026-01-11 18:25:32
        </p>

        <div class="section">
            <h2>策略逻辑概要</h2>
            <p>对每只股票截取最近60个交易日的K线序列（含6个基础价量字段），用三套预训练的卷积+LSTM神经网络模型对“早晨十字星”及其后续反转强度进行评分；每天(实则每周一)在开盘后约9:30 选出评分最高的3只股票等权买入，持有期间如股票开板且不再位列高分榜则卖出；若昨日涨停且今天仍封板，则继续持有以捕捉涨停溢价。</p>
        </div>

        <div class="section">
            <h2>股票池</h2>
            <p>全A股→剔除上市不足180个交易日的新股→剔除创业板(3)、科创板(68)、B股(4)与北交所(8)→剔除停牌、ST、*、退市、开盘即涨跌停个股。</p>
        </div>

        <div class="section">
            <h2>买入信号</h2>
            <p>周一9:30运行get_stock_list时，模型三者得分求和排在前3名, 账户现金足够时按等额下单</p>
        </div>

        <div class="section">
            <h2>卖出信号</h2>
            <p>当前持仓不在当周目标名单且昨日未涨停, 昨日涨停但今日14:00检测价格已开板(当分钟close&lt;high_limit)</p>
        </div>

        <div class="section">
            <h2>仓位管理</h2>
            <p>最多同时持有3只，等权；未显式设置单票仓位上限或整体风控阈值；盘中使用OrderTargetValue全额委托，聚宽默认市价撮合。</p>
        </div>

        <div class="section">
            <h2>交易频率</h2>
            <p>正常情况下周调仓（run_weekly在每周一9:30）；盘中14:00可能触发个股止盈卖出；14:50如遇全日停牌或禁买信号会强制清仓。</p>
        </div>

        <div class="section">
            <h2>手动执行指南</h2>
            <p>实盘复制时需：1) 盘前拉取候选池；2) 开盘后9:25-9:30读取开盘价判断涨跌停过滤；3) 9:30按模型得分买入；4) 14:00检查昨日涨停股是否开板并决策；5) 14:50如需收盘清仓则平仓。</p>
        </div>

        <div class="section">
            <h2>代码审计详情</h2>
            <p>核心用到的attribute_history、get_price、get_current_data 均以context.current_dt为end_date；设置了avoid_future_data=True；未见未来变量引用。</p>
        </div>

        <div class="section">
            <h2>灰色区域警告</h2>
            <p>模型训练阶段未知，可能用到未来数据但回测端无法检查, 周一9:30再买入时使用day_open过滤，若开盘后临时停牌会影响可交易性, get_all_securities() 默认返回至今仍上市的股票，对退市样本历史回测会略有幸存者偏差</p>
        </div>

        <div class="section">
            <h2>执行分析</h2>
            <p>操作步骤较少但对盘中时间点有要求；中小资金易执行，大资金受容量约束。</p>
        </div>

        <div class="section">
            <h2>10万资金场景</h2>
            <p>基本无冲击，可完全成交</p>
        </div>

        <div class="section">
            <h2>100万资金场景</h2>
            <p>正常可成交，部分冷门股需拆单</p>
        </div>

        <div class="section">
            <h2>1000万资金场景</h2>
            <p>3只股票等权≈330w/只，若目标为中小盘可能吃到深度，需分批</p>
        </div>

        <div class="section">
            <h2>1亿资金场景</h2>
            <p>1亿资金场景下≈3300w/只，若目标股日成交额&lt;5亿将显著冲击，难以完全复制</p>
        </div>

        <div class="section">
            <h2>大资金不友好原因</h2>
            <p>池子限制多且仅持3只，多为中小盘，容量有限。</p>
        </div>

        <div class="section">
            <h2>行为偏差利用原因</h2>
            <p>通过识别早晨十字星+涨停板情绪，利用市场短期反转与情绪失衡。</p>
        </div>

        <div class="section">
            <h2>跨阶段稳健性原因</h2>
            <p>完全依赖深度模型黑箱，对训练集外期稳定性存疑；但使用纯价格序列有一定通用性。</p>
        </div>

        <div class="section">
            <h2>最差环境</h2>
            <p>长期单边下跌无反弹, 监管加强导致涨停板高度受限</p>
        </div>

        <div class="section">
            <h2>可验证预测</h2>
            <p>模型评分靠前的股票未来5日收益显著高于基准, 昨日涨停且次日未开板股票继续跑赢, 开盘即涨停的股票若被排除则次日收益接近市场均值</p>
        </div>

        <div class="section">
            <h2>一句话总结</h2>
            <p>策略思路新颖、调仓简单，但容量小且对模型黑箱依赖大。</p>
        </div>

        <div class="section">
            <h2>优化建议</h2>
            <p>1) 引入成交额/流动性约束；2) 增加风险控制如跌破均线止损；3) 对模型输出做分层持仓而非Top3硬阈值</p>
        </div>

        <div class="section">
            <h2>假设条件</h2>
            <p>未提供初始资金规模，假设为100万人民币, 回测手续费按代码设置（双边万3+千1印花税）, 默认聚宽市价单立即成交且滑点为0，实盘存在冲击</p>
        </div>

        <div class="section">
            <h2>评分汇总</h2>
            <table>
                <tr><th>指标</th><th>分数</th></tr>
                <tr><td>未来函数风险</td><td>2</td></tr>
                <tr><td>滑点</td><td>5</td></tr>
                <tr><td>成本</td><td>3</td></tr>
                <tr><td>执行难度</td><td>7</td></tr>
                <tr><td>时间敏感性</td><td>6</td></tr>
                <tr><td>综合可执行性</td><td>5.8</td></tr>
                <tr><td>大资金不友好</td><td>7</td></tr>
                <tr><td>行为偏差利用</td><td>6</td></tr>
                <tr><td>跨阶段稳健性</td><td>5</td></tr>
                <tr><td>有效性总分</td><td>5.9</td></tr>
                <tr><td>总分</td><td>58.6</td></tr>
            </table>
        </div>

        <div class="section">
            <h2>原始AI响应</h2>
            <pre>```json
{
    &quot;strategy_name&quot;: &quot;AI晨星反转选股&quot;,
    &quot;strategy_type&quot;: &quot;其他（深度学习形态识别）&quot;,
    
    &quot;strategy_explanation&quot;: {
        &quot;core_logic&quot;: &quot;对每只股票截取最近60个交易日的K线序列（含6个基础价量字段），用三套预训练的卷积+LSTM神经网络模型对“早晨十字星”及其后续反转强度进行评分；每天(实则每周一)在开盘后约9:30 选出评分最高的3只股票等权买入，持有期间如股票开板且不再位列高分榜则卖出；若昨日涨停且今天仍封板，则继续持有以捕捉涨停溢价。&quot;,
        &quot;data_and_indicators&quot;: &quot;仅使用行情数据（open/high/low/close/volume/amount），日频更新，取最近60根日K；不使用财务或因子。&quot;,
        &quot;stock_pool&quot;: &quot;全A股→剔除上市不足180个交易日的新股→剔除创业板(3)、科创板(68)、B股(4)与北交所(8)→剔除停牌、ST、*、退市、开盘即涨跌停个股。&quot;,
        &quot;buy_signals&quot;: [&quot;周一9:30运行get_stock_list时，模型三者得分求和排在前3名&quot;, &quot;账户现金足够时按等额下单&quot;],
        &quot;sell_signals&quot;: [&quot;当前持仓不在当周目标名单且昨日未涨停&quot;, &quot;昨日涨停但今日14:00检测价格已开板(当分钟close&lt;high_limit)&quot;],
        &quot;position_and_risk&quot;: &quot;最多同时持有3只，等权；未显式设置单票仓位上限或整体风控阈值；盘中使用OrderTargetValue全额委托，聚宽默认市价撮合。&quot;,
        &quot;trading_frequency&quot;: &quot;正常情况下周调仓（run_weekly在每周一9:30）；盘中14:00可能触发个股止盈卖出；14:50如遇全日停牌或禁买信号会强制清仓。&quot;,
        &quot;manual_execution_guide&quot;: &quot;实盘复制时需：1) 盘前拉取候选池；2) 开盘后9:25-9:30读取开盘价判断涨跌停过滤；3) 9:30按模型得分买入；4) 14:00检查昨日涨停股是否开板并决策；5) 14:50如需收盘清仓则平仓。&quot;
    },
    
    &quot;future_function_detection&quot;: {
        &quot;has_future_function&quot;: &quot;否&quot;,
        &quot;risk_level&quot;: &quot;低&quot;,
        &quot;risk_score&quot;: 2,
        &quot;risk_score_reason&quot;: &quot;核心用到的attribute_history、get_price、get_current_data 均以context.current_dt为end_date；设置了avoid_future_data=True；未见未来变量引用。&quot;,
        &quot;detailed_analysis&quot;: {
            &quot;price_data_leak&quot;: &quot;attribute_history默认不包含当天K线，不会窥视未来；盘中使用分钟数据仅取到当前分钟(合法)。&quot;,
            &quot;financial_data_leak&quot;: &quot;完全未用到财务数据。&quot;,
            &quot;index_component_leak&quot;: &quot;不依赖指数成分或排名历史。&quot;,
            &quot;backtest_engine_leak&quot;: &quot;未用到因子跨截面排名或整体市场未来信息。&quot;
        },
        &quot;fix_suggestions&quot;: &quot;若担心 attribute_history 行为变化，可显式写 end_date=context.previous_date。&quot;,
        &quot;gray_area_warnings&quot;: [&quot;模型训练阶段未知，可能用到未来数据但回测端无法检查&quot;, &quot;周一9:30再买入时使用day_open过滤，若开盘后临时停牌会影响可交易性&quot;, &quot;get_all_securities() 默认返回至今仍上市的股票，对退市样本历史回测会略有幸存者偏差&quot;]
    },
    
    &quot;execution_difficulty&quot;: {
        &quot;slippage_score&quot;: 5,
        &quot;slippage_reason&quot;: &quot;交易在9:30集合竞价后瞬间买入，若目标为小盘或涨停开板股，冲击成本中等。&quot;,
        &quot;cost_score&quot;: 3,
        &quot;cost_reason&quot;: &quot;周级换手且最多3只，全额买入卖出，佣金税费中低。&quot;,
        &quot;execution_score&quot;: 7,
        &quot;execution_reason&quot;: &quot;股票数量极少且等权，下单逻辑简单，主板流动性大体可成交。&quot;,
        &quot;time_sensitivity_score&quot;: 6,
        &quot;time_sensitivity_reason&quot;: &quot;必须在9:30取得开盘价后马上下单，同时14:00需监控昨日涨停股是否开板。&quot;,
        &quot;overall_executability&quot;: 7,
        &quot;overall_reason&quot;: &quot;操作步骤较少但对盘中时间点有要求；中小资金易执行，大资金受容量约束。&quot;,
        &quot;scenario_analysis&quot;: {
            &quot;10w&quot;: &quot;基本无冲击，可完全成交&quot;,
            &quot;100w&quot;: &quot;正常可成交，部分冷门股需拆单&quot;,
            &quot;1000w&quot;: &quot;3只股票等权≈330w/只，若目标为中小盘可能吃到深度，需分批&quot;,
            &quot;1y&quot;: &quot;1亿资金场景下≈3300w/只，若目标股日成交额&lt;5亿将显著冲击，难以完全复制&quot;
        },
        &quot;improvement_suggestions&quot;: [&quot;加入成交额过滤或按成交额加权分配资金&quot;, &quot;把买入窗口延展到9:30-10:00分批挂单以降低冲击&quot;]
    },
    
    &quot;effectiveness&quot;: {
        &quot;large_fund_unfriendly_score&quot;: 7,
        &quot;large_fund_unfriendly_reason&quot;: &quot;池子限制多且仅持3只，多为中小盘，容量有限。&quot;,
        &quot;behavioral_bias_score&quot;: 6,
        &quot;behavioral_bias_reason&quot;: &quot;通过识别早晨十字星+涨停板情绪，利用市场短期反转与情绪失衡。&quot;,
        &quot;cross_period_robustness_score&quot;: 5,
        &quot;cross_period_robustness_reason&quot;: &quot;完全依赖深度模型黑箱，对训练集外期稳定性存疑；但使用纯价格序列有一定通用性。&quot;,
        &quot;effectiveness_total_score&quot;: 5.8,
        &quot;weight_explanation&quot;: &quot;大资金友好40%+行为偏差利用30%+跨阶段稳健30%。&quot;,
        &quot;worst_environments&quot;: [&quot;长期单边下跌无反弹&quot;, &quot;监管加强导致涨停板高度受限&quot;],
        &quot;verifiable_predictions&quot;: [&quot;模型评分靠前的股票未来5日收益显著高于基准&quot;, &quot;昨日涨停且次日未开板股票继续跑赢&quot;, &quot;开盘即涨停的股票若被排除则次日收益接近市场均值&quot;]
    },
    
    &quot;conclusion&quot;: {
        &quot;verdict&quot;: &quot;策略思路新颖、调仓简单，但容量小且对模型黑箱依赖大。&quot;,
        &quot;recommendation&quot;: &quot;小仓实测&quot;,
        &quot;optimization_suggestions&quot;: &quot;1) 引入成交额/流动性约束；2) 增加风险控制如跌破均线止损；3) 对模型输出做分层持仓而非Top3硬阈值&quot;
    },
    
    &quot;score_summary&quot;: {
        &quot;future_function_risk&quot;: 2,
        &quot;slippage&quot;: 5,
        &quot;cost&quot;: 3,
        &quot;execution&quot;: 7,
        &quot;time_sensitivity&quot;: 6,
        &quot;executability&quot;: 7,
        &quot;effectiveness_a&quot;: 7,
        &quot;effectiveness_b&quot;: 6,
        &quot;effectiveness_c&quot;: 5,
        &quot;effectiveness_total&quot;: 5.8
    },
    
    &quot;assumptions&quot;: [&quot;未提供初始资金规模，假设为100万人民币&quot;, &quot;回测手续费按代码设置（双边万3+千1印花税）&quot;, &quot;默认聚宽市价单立即成交且滑点为0，实盘存在冲击&quot;]
}
```</pre>
        </div>

    </div>
</body>
</html>